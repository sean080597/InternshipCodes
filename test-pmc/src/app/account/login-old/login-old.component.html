<div class="container mt-5">
  <div class="card border-0">
    <div class="card-body p-4">
      <h6 class="f-size-w6-32 mb-4">{{ "TT_LOGIN" | translate }}</h6>

      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="row mb-3">
          <label for="email" class="col-sm-2 col-form-label">{{
            "LB_EMAIL_ADDRESS" | translate
          }}</label>
          <div class="col-sm-10 col-md-5">
            <input
              id="email"
              type="email"
              formControlName="email"
              class="form-control mt-1"
              [ngClass]="{
                'is-invalid':
                  (form.controls['email'].touched &&
                    form.controls['email'].hasError('required')) ||
                  form.controls['email'].hasError('email') ||
                  form.controls['email'].hasError('maxlength')
              }"
            />
          </div>
        </div>
        <div class="row mb-3">
          <label for="password" class="col-sm-2 col-form-label">{{
            "LB_PASSWORD" | translate
          }}</label>
          <div class="col-sm-10 col-md-5">
            <input
              id="password"
              type="password"
              formControlName="password"
              class="form-control mt-1"
              [ngClass]="{
                'is-invalid':
                  (form.controls['password'].touched &&
                    form.controls['password'].hasError('required')) ||
                  form.controls['password'].hasError('maxlength')
              }"
            />
          </div>
        </div>
        <div class="form-group err-wrapper my-3">
          <div *ngIf="isUserInvalid" class="text-danger small">
            {{ "ERR_MSG_USER_INVALID" | translate }}
          </div>
          <div *ngIf="error !== ''" class="text-danger small">{{ error }}</div>
          <div
            *ngIf="
              form.controls['email'].touched &&
              form.controls['email'].hasError('required')
            "
            class="text-danger small"
          >
            {{
              "ERR_MSG_REQUIRED"
                | translate: { field: "LB_EMAIL_ADDRESS" | translate }
            }}
          </div>

          <div
            *ngIf="
              form.controls['email'].touched &&
              form.controls['email'].hasError('email')
            "
            class="text-danger small"
          >
            {{
              "ERR_MSG_INVALID"
                | translate: { field: "LB_EMAIL_ADDRESS" | translate }
            }}
          </div>

          <div
            *ngIf="
              form.controls['email'].touched &&
              form.controls['email'].hasError('maxlength')
            "
            class="text-danger small"
          >
            {{ "COMMON.ERRORS.EMAIL_MAX_LENGHT" | translate }}
          </div>

          <div
            *ngIf="
              form.controls['password'].touched &&
              form.controls['password'].hasError('required')
            "
            class="text-danger small"
          >
            {{
              "ERR_MSG_REQUIRED"
                | translate: { field: "LB_PASSWORD" | translate }
            }}
          </div>

          <div
            *ngIf="
              form.controls['password'].touched &&
              form.controls['password'].hasError('maxlength')
            "
            class="text-danger small"
          >
            {{ "COMMON.ERRORS.PASSWORD_MAX_LENGHT" | translate }}
          </div>
        </div>
        <div class="row">
          <div
            class="col-12 col-md-7 d-flex bd-highlight px-0 flex-row align-items-start"
          >
            <div class="p-2 bd-highlight">
              <!-- <button [disabled]="loading" class="btn btn-success btn-submit-xs">
                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                {{ 'BT_NEXT' | translate }}
              </button> -->
              <button
                nz-button
                nzType="primary"
                nzShape="round"
                [disabled]="loading"
                class="mx-2"
              >
                <span
                  *ngIf="loading"
                  class="spinner-border spinner-border-sm mr-1"
                ></span>
                {{ "BT_NEXT" | translate }}
              </button>
            </div>
            <div class="p-2 bd-highlight">
              <!-- <button type="button" (click)="forgotPassword()" [disabled]="loading"
                class="btn btn-secondary btn-submit-xs">
                {{ 'MSG_FORGET_PASSWORD' | translate }}
              </button> -->
              <button
                type="button"
                class="px-4"
                nz-button
                nzGhost
                nzType="primary"
                nzShape="round"
                (click)="forgotPassword()"
              >
                {{ "MSG_FORGET_PASSWORD" | translate }}
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
